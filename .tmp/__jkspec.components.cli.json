{
  "__meta": {
    "type": "component",
    "description": "Command-line utilities that provide deterministic automation for the jkspec worker",
    "status": "active",
    "tags": [
      "cli",
      "tooling",
      "internal"
    ],
    "location": ".jkspec/cli"
  },
  "purpose": "Document every CLI helper the worker depends on so new tooling stays traceable and versioned with specs.",
  "coverage": [
    "Bootstrap developer environments (initialize.py)",
    "Render Markdown inspection views after spec updates (make_md_view.sh)"
  ],
  "utilities": {
    "initialize": {
      "__meta": {
        "type": "cli-tool",
        "description": "Python bootstrapper that provisions a virtual environment and installs project requirements",
        "status": "active",
        "tags": [
          "python",
          "bootstrap",
          "venv"
        ]
      },
      "path": ".jkspec/cli/initialize.py",
      "language": "python",
      "entrypoint": "python .jkspec/cli/initialize.py [options]",
      "capabilities": [
        "Resolves the repository root automatically from the CLI directory",
        "Creates or reuses a virtual environment (default .venv) using the supplied Python interpreter",
        "Upgrades pip inside the managed environment",
        "Installs dependencies from requirements.txt unless --skip-install is provided",
        "Prints platform-aware activation instructions after provisioning"
      ],
      "arguments": {
        "--python": "Interpreter used to create the virtual environment (defaults to current Python).",
        "--venv": "Target directory for the virtual environment; accepts relative or absolute paths.",
        "--requirements": "Optional requirements file to install after creation.",
        "--skip-install": "Skips dependency installation even when a requirements file exists.",
        "--recreate": "Removes the existing environment before creating a fresh one."
      },
      "outputs": [
        "Managed virtual environment located at the requested path",
        "Logged subprocess commands for auditability"
      ]
    },
    "make-md-view": {
      "__meta": {
        "type": "cli-tool",
        "description": "Bash + jq renderer that converts a spec into a Markdown inspection file",
        "status": "active",
        "tags": [
          "bash",
          "jq",
          "documentation"
        ]
      },
      "path": ".jkspec/cli/make_md_view.sh",
      "language": "bash",
      "entrypoint": "bash .jkspec/cli/make_md_view.sh <spec-id> <json-file> <output-md>",
      "capabilities": [
        "Validates arguments and target JSON before rendering",
        "Uses jq to extract the requested spec by path",
        "Renders meta, problem, requirements, implementation, testing, tasks, and notes into Markdown",
        "Creates the parent directory for the output file automatically",
        "Exits with non-zero status when inputs are invalid"
      ],
      "requirements": [
        "jq must be installed and available on PATH",
        "Spec identifier must exist within the provided JSON file"
      ],
      "workflow": [
        "Invoke after any spec creation or update",
        "Write the Markdown output to .tmp/<spec-id>.md",
        "Surface the generated path when reporting back to users"
      ]
    }
  },
  "guidelines": [
    "Add every new CLI helper to this component before exposing it to users or agents",
    "Prefer cross-platform runtimes (Python or POSIX shell) and document platform assumptions",
    "Run initialize.py before other tooling to guarantee dependencies are installed",
    "Always execute make_md_view.sh immediately after modifying specs so reviewers have a Markdown snapshot"
  ]
}
