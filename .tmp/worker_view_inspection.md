"# Spec: __jkspec.components.worker.view_inspection\n\n## Meta\n\n- Type: guideline\n- Status: draft\n- Tags: worker, inspection, cli\n- Description: Ensure workers generate Markdown inspection views for every new or updated spec using the dedicated CLI tool\n\n\n## Problem\n\n{\"context\":\"Specs live as JSON which is hard for users to skim right after creation.\",\"pain_points\":[\"Users cannot easily review spec details without running jq queries\",\"Fresh specs may contain mistakes that go unnoticed without a readable view\",\"There is no automated habit enforcing view generation\"],\"goal\":\"Provide an immediate, human-readable Markdown snapshot for each spec change.\"}\n\n## Deliverables\n\n{\"cli_tool\":{\"path\":\".jkspec/cli/make_md_view.sh\",\"description\":\"Shell script that accepts a spec-id, JSON file path, and Markdown output path, then renders a deterministic Markdown view using jq.\",\"requirements\":[\"Support any spec JSON structure that follows jkspec conventions\",\"Gracefully handle missing optional sections by skipping them\",\"Create parent directories for the output path automatically\",\"Exit with non-zero status on invalid input\"]},\"worker_guideline\":{\"description\":\"Operational rule instructing workers to render Markdown views immediately after writing or updating a spec.\",\"output_location\":\".tmp/<spec-id>.md\",\"rationale\":\"Keeps review loop tight and gives users a document they can open without tooling\"}}\n\n## Requirements\n\n- **CLI Markdown renderer** (critical)\n  - Implement make_md_view.sh to convert spec JSON into a Markdown document with sections for meta, problem, requirements, implementation, testing, tasks, and notes.\n- **Temporary inspection workspace** (high)\n  - Ensure a top-level .tmp directory exists and always house rendered Markdown files there using the <spec-id>.md naming pattern.\n- **Post-spec workflow** (high)\n  - Immediately after adding or editing a spec, export the spec JSON to a temp file and run the CLI to generate the Markdown view, then surface the output path in responses.\n\n## Workflow\n\n{\"steps\":[\"Finish jq edits to the target spec\",\"Validate the JSON file\",\"Create .tmp if it does not exist\",\"Export the spec JSON with jq to a temporary file\",\"Run .jkspec/cli/make_md_view.sh <spec-id> <json-path> .tmp/<spec-id>.md\",\"Reference the generated Markdown path in the user-facing summary\"],\"automation_notes\":\"Future automation can watch .tmp for stale files and regenerate automatically\"}\n\n## Tasks\n\n- [ ] Create CLI tool: Author make_md_view.sh with jq-based Markdown rendering\n- [ ] Add worker guideline: Append rule requiring Markdown view generation for each new/updated spec\n- [ ] Demonstrate sample output: Generate a Markdown file for the latest spec to show the workflow\n\n## Notes\n\n- Store renderer outputs outside git-tracked areas to avoid noise (hence .tmp)\n- Leverage jq exclusively so the script remains dependency-light\n\n"
